# Docker Compose Environment Variables
# This file contains environment variables used by docker-compose services

# =============================================================================
# Tracker Service Configuration
# =============================================================================

# Path to the tracker TOML configuration file inside the container
TORRUST_TRACKER_CONFIG_TOML_PATH='/etc/torrust/tracker/tracker.toml'

# Database driver type - tells the container entrypoint which config template to use
# Must match the driver specified in tracker.toml
# Uses standardized TORRUST_TRACKER_CONFIG_OVERRIDE_* naming convention
TORRUST_TRACKER_CONFIG_OVERRIDE_CORE__DATABASE__DRIVER='{{ database_driver }}'

# Admin API token for tracker HTTP API access
# This overrides the admin token in the tracker configuration file
TORRUST_TRACKER_CONFIG_OVERRIDE_HTTP_API__ACCESS_TOKENS__ADMIN='{{ tracker_api_admin_token }}'

{% if database_driver == "mysql" %}
# =============================================================================
# MySQL Service Configuration
# =============================================================================

# These variables are only needed when MySQL driver is configured
MYSQL_ROOT_PASSWORD='{{ mysql_root_password }}'
MYSQL_DATABASE='{{ mysql_database }}'
MYSQL_USER='{{ mysql_user }}'
MYSQL_PASSWORD='{{ mysql_password }}'
{% endif %}
